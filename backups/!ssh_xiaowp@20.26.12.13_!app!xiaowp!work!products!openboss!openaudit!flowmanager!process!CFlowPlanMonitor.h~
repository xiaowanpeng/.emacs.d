#ifndef _INC_FLOW_PLAN_MONITOR_H_
#define _INC_FLOW_PLAN_MONITOR_H_

#include "dmcext_audit_mgr.h"

class SOBSession;

class CFlowPlanMonitor
{
public:
    CFlowPlanMonitor();
    ~CFlowPlanMonitor();
    
    int run(SOBSession* pSession);

private:

    int get_readyFmPlan
      (
       SOBSession* pSession,
       CFmPlanList& listFmPlan,
       CBSErrorMsg& cErrorMsg );

    int plan2Task
      (
       SOBSession* pSession,
       const CFmPlan& cFmPlan,
       CFmTaskList& listFmTask,
       CBSErrorMsg& cErrorMsg );

    int create_fmTask
      (
       SOBSession* pSession,
       const CFmPlanList& listFmPlan,
       CBSErrorMsg& cErrorMsg );

    int plan2NodeInfo
      (
       SOBSession* pSession,
       const CFmPlan& cFmPlan,
       const CFmTaskList& listFmTask,
       CBSErrorMsg& cErrorMsg );

};

#endif
