(defstruct node value left right parent)

(defparameter node-colect (make-hash-table :test 'equal))

(let ((key-num 1))
  (defun node-colect-add (nd)
    (setf (gethash key-num node-colect) nd)
    (if (gethash (node-left nd))
        (setf (node-parent (gethash (node-left nd))) key-num))
    (if (gethash (node-right nd))
        (setf (node-parent (gethash (node-right nd))) key-num))
